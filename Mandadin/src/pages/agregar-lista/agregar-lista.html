<!--
  Generated template for the AgregarLista page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Cat√°logo de productos</ion-title>
  </ion-navbar>
  
  <ion-toolbar>
    <ion-searchbar (ionInput)="searchProduct($event)" animated="true" placeholder="Buscar producto"></ion-searchbar>
  </ion-toolbar>
  
</ion-header>


<ion-content>
  <ion-item-group *ngFor="let productoData of productosData">
    <ion-item-divider *ngIf="productoData.visible">
      <img style="width:30px;height:30px;vertical-align:bottom;" src="assets/icocategoria.png"/>
      {{productoData.categoria}}
    </ion-item-divider>
    
    <ion-item *ngFor="let producto of productoData.productos; let i = index">
      <ion-icon (click)="eliminarDeLista(i)" name="close" item-left *ngIf="producto.eliminar == true"></ion-icon>
      <ion-label>{{producto.nombre}}</ion-label>
      <ion-toggle color="dark" [(ngModel)]="producto.activo" checked="producto.activo" (ionChange)="verificaVacio(producto)"></ion-toggle>
    </ion-item>
    
  </ion-item-group>
  
</ion-content>

<!-- tuve que quitarle esto [ *ngIf="listaVacia == 1" ] ??? -->
 <ion-fab center bottom>
    <button ion-fab color="primary" (click)="agregar()" [disabled]="buttonDisabled"><ion-icon name="paper"></ion-icon></button>
 </ion-fab>


<ion-footer>
  <ion-toolbar text-right>
    <!--<button ion-button color="light" (click)="eliminar()">Eliminar Storage</button>-->
    <!--button ion-button color="darken" round (click)="agregar()" [disabled]="buttonDisabled"><ion-icon name="paper"></ion-icon></button-->
    <button ion-button color="dark" (click)="nuevoProducto()"><ion-icon name="create"></ion-icon></button>
  </ion-toolbar>
</ion-footer>